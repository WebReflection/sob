/*! (C) WebReflection Mit Style License */
var sob=function(e){"use strict";function d(){var e=x(),t=1e3/u.minFPS,n=!1,r=b(l,h);if(r){i(d),h=l.splice(0,r);while(h.length){g(h.shift()),n=x()-e>=t;if(u.isOverloaded=n)break}n&&u.debug&&console.warn("overloaded frame")}else a=!1,u.isOverloaded=a}function v(e){for(var t=this,n=[],r={id:{},fn:e,ar:n},i=1;i<arguments.length;i++)n[i-1]=arguments[i];return E(t,r)||(t.push(r),r.id)}function m(e,t){var n=y(e,t),r=-1<n;return r&&e.splice(n,1),r}function g(e){e.fn.apply(null,e.ar)}function y(e,t){var n=e.length;while(n--&&e[n].id!==t);return n}function b(e,t){return t.length?e.unshift.apply(e,t):e.length}function w(e){var t=b(c,p),n=e.didTimeout;if(t){s(w,{timeout:u.maxIdle}),p=c.splice(0,n?1:t);while(p.length&&(n||e.timeRemaining()))g(p.shift())}else f=!1}function E(e,t){for(var n=0,r=e.length,i;n<r;n++){i=e[n];if(i.fn===t.fn&&i.ar.length===t.ar.length&&S(i.ar,t.ar))return i.id}return null}function S(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function x(){return n.call(t)}var t=e.performance||{now:Date.now},n=t.now||t.webkitNow||function(){return(new Date).getTime()},r=Math.max,i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){setTimeout(e,16)},s=e.requestIdleCallback||function(e,t){var n=1e3/u.minFPS,i=x(),s;o(function(){s=x(),o(function(){e({didTimeout:t.timeout<x()-i,timeRemaining:function(){return r(0,u.minFPS-(x()-s))}},1)})},n)},o=e.setTimeout,u={debug:!1,isOverloaded:!1,minFPS:60,maxIdle:2e3,clear:function(t){void (m(l,t)||m(c,t)||m(h,t)||m(p,t))},frame:function(){return a||(a=!0,i(d)),v.apply(l,arguments)},idle:function(){return f||(f=!0,s(w,{timeout:u.maxIdle})),v.apply(c,arguments)}},a=!1,f=!1,l=[],c=[],h=[],p=[];return u}(window);